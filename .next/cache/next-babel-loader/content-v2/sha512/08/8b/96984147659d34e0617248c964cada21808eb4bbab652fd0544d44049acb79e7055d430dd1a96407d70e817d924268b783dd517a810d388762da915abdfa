{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { debounce } from '@utils';\nimport { Button } from '@components';\nimport { SearchIcon, DeleteIcon } from '@components/icons';\nimport styles from '@sass/pages/blog/SearchField.module.scss';\nexport var SearchField = function SearchField(_ref) {\n  var style = _ref.style,\n      _ref$cls = _ref.cls,\n      cls = _ref$cls === void 0 ? '' : _ref$cls;\n  var router = useRouter();\n  var ref = useRef();\n\n  var _useState = useState(router.query.keyword || router.query.query || ''),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var clear = useCallback(function () {\n    return setValue('');\n  }, []);\n\n  var search = function search() {\n    if (value.trim().length < 3) return;\n    router.push({\n      pathname: '/blog/',\n      query: {\n        query: ref.current.value.trim()\n      }\n    });\n  };\n\n  var onKeyDown = useCallback(debounce(function (evt) {\n    if (evt.key !== 'Enter') return;\n    search();\n  }), []);\n  return /*#__PURE__*/_jsxs(\"label\", {\n    className: \"\".concat(styles.label, \" \").concat(cls),\n    style: style,\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      className: styles.input,\n      type: \"text\",\n      maxLength: 128,\n      minLength: 3,\n      onKeyDown: onKeyDown,\n      value: value,\n      ref: ref,\n      onChange: function onChange(evt) {\n        return setValue(evt.currentTarget.value);\n      }\n    }), value && /*#__PURE__*/_jsx(Button, {\n      cls: styles.button,\n      onClick: clear,\n      icon: DeleteIcon\n    }), /*#__PURE__*/_jsx(Button, {\n      cls: styles.button,\n      onClick: search,\n      icon: SearchIcon\n    })]\n  });\n};","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { debounce } from '@utils';\nimport { Button } from '@components';\nimport { SearchIcon, DeleteIcon } from '@components/icons';\nimport styles from '@sass/pages/blog/SearchField.module.scss';\nexport const SearchField = ({\n  style,\n  cls = ''\n}) => {\n  const router = useRouter();\n  const ref = useRef();\n  const {\n    0: value,\n    1: setValue\n  } = useState(router.query.keyword || router.query.query || '');\n  const clear = useCallback(() => setValue(''), []);\n\n  const search = () => {\n    if (value.trim().length < 3) return;\n    router.push({\n      pathname: '/blog/',\n      query: {\n        query: ref.current.value.trim()\n      }\n    });\n  };\n\n  const onKeyDown = useCallback(debounce(evt => {\n    if (evt.key !== 'Enter') return;\n    search();\n  }), []);\n  return /*#__PURE__*/_jsxs(\"label\", {\n    className: `${styles.label} ${cls}`,\n    style: style,\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      className: styles.input,\n      type: \"text\",\n      maxLength: 128,\n      minLength: 3,\n      onKeyDown: onKeyDown,\n      value: value,\n      ref: ref,\n      onChange: evt => setValue(evt.currentTarget.value)\n    }), value && /*#__PURE__*/_jsx(Button, {\n      cls: styles.button,\n      onClick: clear,\n      icon: DeleteIcon\n    }), /*#__PURE__*/_jsx(Button, {\n      cls: styles.button,\n      onClick: search,\n      icon: SearchIcon\n    })]\n  });\n};","map":null,"metadata":{},"sourceType":"module"}